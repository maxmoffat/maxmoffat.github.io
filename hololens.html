<!doctype html>
<head>
  <title>Max Moffat | Portfolio</title>
  <link id="theme" href="css/styles.css" type="text/css" rel="stylesheet" />
  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
</head>
<body>

  <!-- Navigation -->
  <nav class="navbar">
    <a href="index.html">
      <svg id="logo" data-name="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 410.7 255.76"><defs><style>.cls-1{isolation:isolate;font-size:245.45px;font-family:Lato-Bold, Lato;font-weight:700;letter-spacing:0.06em;}.cls-1,.cls-2{fill:none;}</style></defs><title>logo</title><text class="cls-1" transform="translate(0 211.45)">M</text><rect class="cls-2" x="218" y="218.29" width="192.7" height="23.5"/></svg>
    </a>
    <span class="hamburger">
      <svg id="menu" onClick="openOverlay();" data-name="menu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.7 155.7"><defs><style>.cls-1{fill:none;}</style></defs><title>menu</title><rect class="cls-1" width="192.7" height="33.7"/><rect class="cls-1" y="61" width="192.7" height="33.7"/><rect class="cls-1" y="122" width="192.7" height="33.7"/></svg>
    </span>
  </nav>

  <!--Overlay menu-->
  <div id="overlayMenu" class="overlay">
    <a href="javascript:void(0)" class="close" onClick="closeOverlay()">
      <svg id="close" data-name="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160.09 161.09"><defs><style>.cls-1{fill:none;}</style></defs><title>close</title><rect class="cls-1" x="-16.02" y="63.13" width="192.7" height="33.7" transform="translate(-33.31 80.29) rotate(-45)"/><rect class="cls-1" x="63.48" y="-15.37" width="33.7" height="192.7" transform="translate(-34.02 80.58) rotate(-45)"/></svg>
    </a>
    <div class="overlay-content">
      <a href="index.html">About Me</a>
      <a href="project-work.html">Project Work</a>
      <a href="experience.html">Experience</a>
      <a href="contact.php">Contact Me</a>

      <!-- Dark mode switch -->
      <label class="switch">
        <input type="checkbox" id="dark-mode-switch">
        <span class="slider round"></span>
      </label>


    </div>
  </div>


  <footer>
    <p>&copy; Max Moffat <span id="year"></span></p>
  </footer>

  <script type="text/javascript">

    var d = new Date();
    console.log(d);
    document.getElementById("year").innerHTML = d.getFullYear();

    //overlay functionality
    function openOverlay(){
      document.getElementById("overlayMenu").style.width = "100%";
    }

    function closeOverlay(){
      document.getElementById("overlayMenu").style.width = "0%";
    }

    var dark = "css/styles-dark.css";
    var light = "css/styles.css";

    function switchLightMode(lightMode){
      $("#theme").attr("href", lightMode);
      localStorage.setItem("lightMode", lightMode);
    }

    //testing dark Mode
    $("input#dark-mode-switch[type='checkbox']").on("click", function(){
      if($(this).is(":checked")){
        switchLightMode(dark);
        console.log("dark mode is on");
      } else{
        switchLightMode(light);
        console.log("light mode is on");
      }
    })

    window.onload = _ =>
      switchLightMode(
        localStorage.getItem("lightMode") || "css/styles.css"
      );

    $(window).on("load", function(){
      if(localStorage.getItem("lightMode") == dark){
        $("input#dark-mode-switch[type='checkbox']").attr('checked', 'checked');
      }
    });



  </script>

</body>
</html>
